jestを入れたらeslintのfixがエラーを吐くようになってしまった。

https://github.com/eslint/eslint/discussions/17215
↑と同じエラー。globの10.2.2以上のものは内部でstrip-ansi-cjsを使っていて、それが良くないらしい。

とは言うけれどglobの10.2.2以上を使っているのはstorybook-cliなのであまりバージョンは下げたくない。Storybookは比較的最近バージョンが6から7に上がったばかりだし、addon等のバージョンも揃えなければいけなかったりと下げると面倒なことがたくさんある。

エラーを再度見る。
```
There was a problem loading formatter: ...\node_modules\eslint\lib\cli-engine\formatters\stylish
Error: require() of ES Module ...\node_modules\strip-ansi\index.js from ...\assertion-lib\node_modules\eslint\lib\cli-engine\formatters\stylish.js not supported.
Instead change the require of index.js in ...\node_modules\eslint\lib\cli-engine\formatters\stylish.js to a dynamic import() which is available in all CommonJS modules.
```
で、それでstylishってなんなのよ？formatterってディレクトリにあるからformatterなんだとは思うけど。

https://eslint.org/docs/latest/use/formatters/

> ESLint comes with several built-in formatters to control the appearance of the linting results, and supports third-party formatters as well.

eslintの結果表示に使ってるだけっぽい！

> You can specify a formatter using the --format or -f flag in the CLI. For example, --format json uses the json formatter.

とあり、`--format`オプションから別のformatterに変えられるようだった。見た感じcompactがcli上で見やすそうだし環境依存も無さそうだったのでこれを使うことにした。

というわけでeslintのコマンドを`eslint --fix`から`eslint --format compact --fix`に変えた、ら、ちゃんと動くようになった。ばんざい。

jestを入れたのにStorybookが原因でエラーが出てたのはなんなんだろう。Storybookをインストールした時点ではなぜかたまたま上手く動いていたけど[anything]をインストールしたせいで依存がスッキリして結果エラーになったってことかな。