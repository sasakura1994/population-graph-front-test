結局 API をもう少し掘り下げることにした。複数の都道府県を表示するために複数回の API を叩かなければいけないが、高速で複数回叩くと API エラーが発生する。平均 5 回と言っていたので 200ms はギリギリを狙い過ぎな気もするけどそれはそのうちなんとかする。

本当は現在どの程度の都道府県が取得出来ているのかを表示できるようにしたかったけれど Promise+step を取得みたいなものを作ると可読性が一気に下がるので一旦はやめておくことにした。

エラー関連のテストを書くべきか少しだけ迷っている。型も「Composition」としてしまったけどこれは少しわかりづらいのではないかとも考えている。

けど実際に動かさないとわからないことの方が多い。一旦これらの懸念は置いておいてまずは基本的な動作を行えるようにすることを目指す。

### 前回からののメモ

今回のコミットとは関係ないけど「セキュリティを考慮してコードを記述」しようとしたらサーバーサイドで RESAS API を叩くしかなくない？vite でやったことないし nuxt に乗り換えようかな……。それか BASIC 認証入れるかか。CORS に引っかからなければ誰でも叩ける API(ただし API_KEY は漏れない)を置いておくのとユーザー名とパスワードを入れない限り叩けない API(ただし API_KEY はパスを入れたら見える)のどっちがマシかって話な気がしたけど、両方入れるのが正解だよな。うーん。とりあえず保留。

#### TODO タスク

- [x] API 学習テスト
- [ ] グラフライブラリ学習テスト
- [x] リクエスト回数が１秒平均 5 回らしいのでそれに注意して実装を行う必要がある
- [ ] プロトタイプの作成
- [ ] API_KEY を見せたくない
- [ ] API を叩くクラスのエラー処理
