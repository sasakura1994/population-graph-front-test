## 現状

legend の順序が Object.keys 依存だったので良くなかったのでチェック順に直した。

それはそれとして、jest.advanceTimersByTimeAsync を使っていたけどこれらは別に正しいコードではないということに気付いた。これは表面化すべき課題なので README に書く必要がある

チェックボックスをホバーしたらグラフが連動して光ったりする機能があると良いかと思ったけれどそれをやりはじめると legend とチェックボックスの２つがあることも若干気になってしまう。たとえば各都道府県の bgColor を各シリーズの色と連動させればそもそも legend を表示する必要もなくなるのでは？という気もするけど、それはそれでグラフを見ている時に表示していない都道府県のチェックボックスが邪魔な気もする。

これに関しては 2 画面あると考えて諦めるのが得策な気がしたので諦める。

## この feature でやること

- [x] legend の順序が変わらないようにする
- [ ] README に jest.advanceTimersByTimeAsync が正しいコードではないことを明記する

### グラフ課題

- [ ] boundaryYear もわかるようにしたい。
  - このグラフは信頼性が薄い。
  - 途中から折れ線を Dash に返る方法があったのでそれを使ったりして表示したい。

## メモ

prettier-tailwind のプラグイン入れても動かない。

- [x] チェックボックスの cursor:pointer

## TODO タスク

- [x] API 学習テスト
- [x] グラフライブラリ学習テスト
- [x] リクエスト回数が１秒平均 5 回らしいのでそれに注意して実装を行う必要がある
- [x] composition 取得中はボタンの切り替えを出来ないようにする
- [x] プロトタイプの作成
  - [x] 総人口を別の人口に切り替え
- [ ] playwright でグラフのアクセシビリティのテストを行う
- [ ] API_KEY を見せたくない
- [ ] API を叩くクラスのエラー処理
  - メモ：「セキュリティを考慮してコードを記述」しようとしたらサーバーサイドで RESAS API を叩くしかなくない？vite でやったことないし nuxt に乗り換えようかな……。それか BASIC 認証入れるかか。CORS に引っかからなければ誰でも叩ける API(ただし API_KEY は漏れない)を置いておくのとユーザー名とパスワードを入れない限り叩けない API(ただし API_KEY はパスを入れたら見える)のどっちがマシかって話な気がしたけど、両方入れるのが正解だよな。うーん。とりあえず保留。
